(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var e=function(t){return"0".concat(Number.parseInt(t,10)).slice(-2)},r=function(t){return 60*Number(t)},n=function(e){var n,o,i=(n=e.split(":"),o=3,function(t){if(Array.isArray(t))return t}(n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(n,o)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],a=i[2];return function(t){return 60*Number(t)*60}(c)+r(s)+Number(a)},o={setTickAction:function(t){this.tickAction=t}},i={setStartAction:function(t){this.startAction=t},start:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=1e3;e&&(this.from=n(e)),r&&(this.to=n(r)),this.startAction&&this.startAction(this.from,this.to),this.tickID=setInterval((function(){t.tick()}),o)}},c={setStopAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.stopAction=t},stop:function(){this.stopAction&&this.stopAction(),clearInterval(this.tickID),this.from=0}};function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l=a(a(a({tick:function(){this.from++,this.tickAction&&this.from>0&&this.tickAction(this.from,this.to),this.from>=this.to&&this.stop()}},i),o),c);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=d(d(d({tick:function(){var t=this.to+this.from,e=-1*this.from||0,r=-this.to;this.from--,this.tickAction&&this.tickAction(t,this.to,e),this.from<r&&this.stop()}},i),o),c);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=b(b({resetClock:function(){this.pomodoroState="pomodoro",this.from=0,this.to=r(25)},tick:function(){this.from++,this.tickAction&&this.from>0&&this.tickAction(this.from,this.to),this.from>=this.to&&("pomodoro"===this.pomodoroState?this.pause():this.restart())},setConfirmEvent:function(t){this.startConfirmEvent=t},setStartAction:function(t){this.startAction=t},start:function(){var t=this;this.startAction&&this.startAction(this.from,this.to),this.tickID=setInterval((function(){t.tick()}),1e3)},pause:function(){var t=this;this.to=r(5),this.stop(),this.startConfirmEvent({title:"Pomodoro completo",description:"Você quer iniciar uma pausa?"},(function(e){if(e)return t.start(),void(t.pomodoroState="pause");t.resetClock()}))},restart:function(){var t=this;this.to=r(25),this.stop(),this.startConfirmEvent({title:"Pause completo",description:"Você quer iniciar um novo pomodoro?"},(function(e){if(e)return t.start(),void(t.pomodoroState="pomodoro");t.resetClock()}))}},o),c);var A=document.querySelector("audio");const g=function(t,e){var r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("button"),i=document.createElement("button");r.classList.add("c-pop-up"),r.setAttribute("role","alertdialog"),r.setAttribute("aria-labelledby","pop-up-title"),r.setAttribute("aria-describedby","pop-up-description"),r.setAttribute("tabindex","0"),t.title&&t.description&&r.insertAdjacentHTML("afterbegin",'\n      <span id="pop-up-title">'.concat(t.title,'</span>\n      <span class="c-pop-up__message" id="pop-up-description">').concat(t.description,"</span>\n      ")),o.innerText="SIM",i.innerText="NÃO",o.classList.add("c-button","c-button--confirm"),i.classList.add("c-button","c-button--reject"),n.insertAdjacentElement("beforeend",o),n.insertAdjacentElement("beforeend",i),r.insertAdjacentElement("beforeend",n);var c=new Proxy({confirm:void 0,confirmAction:e},{set:function(t,e,r){return"boolean"==typeof r&&t.confirmAction(r),t[e]=r,!0}});function s(){c.confirm=!0,o.removeEventListener("click",s),i.removeEventListener("click",a),r.remove(),document.querySelector("#start").focus()}function a(){c.confirm=!1,o.removeEventListener("click",s),i.removeEventListener("click",a),r.remove(),document.querySelector("#start").focus()}o.addEventListener("click",s),i.addEventListener("click",a),document.body.insertAdjacentElement("beforeend",r),A.play(),r.focus()},O={stopwatch:"Cronômetro",timer:"Cronômetro regressivo",pomodoro:"Pomodoro"};var j=new Proxy({openToAlert:!0,pendents:[],alertUser:function(){var t=this,e=this.pendents[0],r=e.alert,n=e.toElement,o=e.describedByElementId,i=document.querySelector(n),c=document.getElementById(o);c.innerText=r,i.setAttribute("role","alert"),i.setAttribute("aria-describedby",o),this.openToAlert=!1,setTimeout((function(){t.pendents.shift(),c.innerText="",i.removeAttribute("role","alert"),i.removeAttribute("aria-describedby",o),t.pendents.length?t.alertUser():t.openToAlert=!0}),1e3),i.setAttribute("role","alert")}},{set:function(t,e,r){return"openToAlert"!==e||"boolean"!=typeof r||(t[e]=r),!0}}),E=function(t){return e={alert:t,toElement:"span#alerts",describedByElementId:"alerts"},j.pendents.push(e),void(j.openToAlert&&j.alertUser());var e};function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(t){return Array.from(document.getElementById(t).querySelectorAll("span")).slice(-2)},P=function(t,r){var n=[["0","0"],["0","0"],["0","0"]],o=["hours","minutes","seconds"],i=0,c=function(e){var r,i,c,s,a;i=(r=e).value,c=r.unitIndex,s=r.minUnitIndex,(a=t[o[c]][s]).innerHTML=i,a.animate([{transform:"translateY(32px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:200,fill:"forwards"}),function(t){var e=t.value,r=t.unitIndex,o=t.minUnitIndex;n[r][o]=e}(e)};return{resetClock:function(){n.forEach((function(e,r){var n=k(t[o[r]],2),i=n[0],c=n[1];i.innerHTML="0",c.innerHTML="0",e[0]="0",e[1]="0"})),i=0},setClock:function(t,r){var o,s;(function(t){var e,r=(e=t,Math.floor(e/60));r&&r>i&&(i=r,E("".concat("".concat(r,r>1?" minutos decorridos":" minuto decorrido"))))})(t),(o=t,s=Math.floor(o/60/60),[s,Math.floor(o/60-60*s),o%60]).forEach((function(t,r){var o=k(function(t){return e(t).split("")}(t),2),i=o[0],s=o[1],a=k(n[r],2),u=a[0];s!==a[1]&&c({value:s,unitIndex:r,minUnitIndex:1}),i!==u&&c({value:i,unitIndex:r,minUnitIndex:0})}))},setProgressBar:function(t){try{r.style.width=t.toFixed(2)+"%",r.setAttribute("aria-valuenow",t.toFixed(0))}catch(t){throw new Error(t)}}}}({hours:w("clock-hours"),minutes:w("clock-minutes"),seconds:w("clock-seconds")},document.getElementById("progress-bar"));const I=function(t,e){var n=document.querySelector(".c-clock"),o=!1,i=function(){P.resetClock(),n.classList.add("c-clock--active"),E("".concat(O[t]," iniciado")),o=!0},c=function(e,r,n){P.setClock(e,r);var o=n>=0?100*n/r:100*e/r;o>=50&&o<51&&E("".concat(O[t]," 50% completo")),P.setProgressBar(o)},s=function(){n.classList.remove("c-clock--active"),"pomodoro"!==t&&E("".concat(O[t],", finalizado")),o=!1},a={stopwatch:function(){var t=Object.create(l);return t.setStartAction((function(t,e){i(),P.setClock(t,e)})),t.setTickAction(c),t.setStopAction(s),t},timer:function(){var t=Object.create(p);return t.setStartAction((function(t,e){i(),P.setClock(e,e)})),t.setTickAction(c),t.setStopAction(s),t},pomodoro:function(){var t,e=(t=Object.create(y),Object.assign(t,{pomodoroState:"pomodoro",from:0,to:r(25)}));return e.setStartAction((function(t){i(),P.setClock(t)})),e.setTickAction(c),e.setConfirmEvent(g),e.setStopAction(s),e}}[t]();return[function(){if(!o){var r="pomodoro"===t?"":e();a.start("00:00:00",r)}},function(){o&&a.stop()}]};var L=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,o){o.value=e(n<r||n>t?t:n)}};const x={hours:L(99),minutes:L(59),seconds:L(59)};var T={ArrowLeft:function(t,e){e.preventDefault();var r=t.previousElementSibling;r&&r.select()},ArrowRight:function(t,e){e.preventDefault();var r=t.nextElementSibling;r&&r.select()}},C=function(t){T[t.key]&&T[t.key](t.target,t)},D=function(t){t.target.select()},N=function(t){var e=t.target,r=e.nextElementSibling;isNaN(Number(e.value))?e.value="":r?2===e.value.length&&(r.select(),x[e.id](Number(e.value),e)):x.seconds(Number(e.value),e)};function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var q=Array.from(document.querySelectorAll(".time")),U=function(){return q.map((function(t){var r=t.value;return!r.trim()||isNaN(Number(r))?"00":e(r)})).join(":")};q.forEach((function(t){t.addEventListener("input",N),t.addEventListener("focus",D),t.addEventListener("keydown",C)}));var B,H=document.getElementById("start"),$=document.getElementById("stop"),F=document.querySelector("#select-clock"),V=function(){var t,e,r,n,o,i=F.value,c=(n=I(i,U),o=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(n,o)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],a=c[1];null===(t=B)||void 0===t||t.stopEvent(),H.removeEventListener("click",null===(e=B)||void 0===e?void 0:e.startEvent),$.removeEventListener("click",null===(r=B)||void 0===r?void 0:r.stopEvent),H.addEventListener("click",s),$.addEventListener("click",a),B={startEvent:s,stopEvent:a},E("O ".concat(O[i]," foi selecionado"))};F.addEventListener("change",V),V()})();
//# sourceMappingURL=bundle.js.map